apiVersion: kpt.dev/v1alpha1
kind: Kptfile
metadata:
  name: ingress-proxy
packageMetadata:
  shortDescription: proxy ingress load-balancer
openAPI:
  definitions:
    io.k8s.cli.setters.public-key:
      x-k8s-cli:
        setter:
          name: public-key
          value: AAAAB3NzaC1yc2EAAAADAQABAAABAQDfqYWvIYbbbWkulxECFYQ3e49j7CFuVXFdAIvEl5RDMQ8WbAEleFq03aRSFMBglA0Ok85SLabYtz0T4kfwRqtK7rnbXM47ihKLvkJT/Qm+F8CNylvIzH6baU+hl6QvIB1mfiXrbJnL4H1J3Xm4Ft/EZKGLfJt2Fd8Q3Uk8p9clIAwXZl2nSAxck490D5o+sc4r3hBqpVb6R2018/luswkuohuKW0ZI521m4M8Lhds6d7QPtvsTjEhEj06b0HBTnvnaGhcnbnWk1aaYLCM6Fap3bhx+aXFY8F7EZ3cMzRWLXYvYevboJtV+3VGZeD4B8pHJIJq/YLtQtnEYUysslHQ/
          isSet: true
    io.k8s.cli.setters.timezone:
      x-k8s-cli:
        setter:
          name: timezone
          value: Europe/Paris
          isSet: true
    io.k8s.cli.setters.username:
      x-k8s-cli:
        setter:
          name: username
          value: nuxeo
          isSet: true
    io.k8s.cli.substitutions.username-binding:
      x-k8s-cli:
        substitution:
          name: username-binding
          pattern: username=${username}
          values:
          - marker: ${username}
            ref: '#/definitions/io.k8s.cli.setters.username'
    io.k8s.cli.substitutions.public-key-binding:
      x-k8s-cli:
        substitution:
          name: public-key-binding
          pattern: public-key=ssh-rsa ${public-key} ${username}@local
          values:
          - marker: ${public-key}
            ref: '#/definitions/io.k8s.cli.setters.public-key'
          - marker: ${username}
            ref: '#/definitions/io.k8s.cli.setters.username'
