apiVersion: config.k8s.io/v1alpha1
kind: Krmfile
openAPI:
  definitions:
    io.k8s.cli.substitutions.key-binding:
      x-k8s-cli:
        substitution:
          name: key-binding
          pattern: key=${key}
          values:
            - marker: ${key}
              ref: '#/definitions/io.k8s.cli.setters.key'
    io.k8s.cli.setters.key:
      x-k8s-cli:
        setter:
          name: prefix-path
          value: /var/snap/microk8s/common
    io.k8s.cli.substitutions.username-binding:
      x-k8s-cli:
        substitution:
          name: username-binding
          pattern: username=${user}
          values:
            - marker: ${user}
              ref: '#/definitions/io.k8s.cli.setters.user'
    io.k8s.cli.setters.user:
      x-k8s-cli:
        setter:
          name: user
          value: nuxeo
